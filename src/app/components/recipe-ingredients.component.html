<h4>Ingredients</h4>

<div class="row">
    <form [formGroup]="recipeIngredientsForm" 
          (ngSubmit)="saveRecipeIngredient(recipeIngredientsForm.value, recipeIngredientsForm.valid)">
          <div class="col-sm-4 form-group suggest-input-group">
            <label class="sr-only" for="ingredientNameInput">Name</label>
            <input type="text"
                   class="form-control"
                   id="ingredientNameInput"
                   placeholder="Name"
                   formControlName="name"
                   (focus)="showSuggestBox()"
                   (blur)="hideSuggestBox()">
            <div class="suggest-box" *ngIf="suggestBoxVisible">
                <a *ngFor="let suggestedIngredient of suggestedIngredients" (click)="selectSuggestedIngredient(suggestedIngredient)"><div>{{suggestedIngredient.name}}</div></a>
            </div>
        </div>
        <div class="col-sm-3 form-group">
             <label class="sr-only" for="ingredientAmountInput">Amount</label>
            <input type="number" class="form-control" id="ingredientAmountInput" placeholder="Amount" formControlName="amount">
        </div>
        <div class="col-sm-3 form-group">
             <label class="sr-only" for="ingredientUnitInput">Unit</label>
            <select class="form-control" id="ingredientUnitInput" formControlName="unit">
                <option *ngFor="let unit of units">{{unit}}</option>
            </select>
        </div>
        <div class="col-sm-2">
            <button type="submit" class="btn btn-default">
                <span class="glyphicon glyphicon-ok"></span>
            </button>
        </div>
    </form>
</div>

<div style="margin-top: 20px">
    <table class="table table-striped">
        <tr *ngFor="let recipeIngredient of recipeIngredients">
            <td>
                {{recipeIngredient.ingredient.name}}
            </td>
            <td>
                {{recipeIngredient.amount}}
            </td>
            <td>
                {{recipeIngredient.unit}}
            </td>
            <td>
                <span (click)="editRecipeIngredient(recipeIngredient)" class="glyphicon glyphicon-pencil"></span>
            </td>
            <td>
                <span (click)="deleteRecipeIngredient(recipeIngredient.id)" class="glyphicon glyphicon-remove"></span>
            </td>
        </tr>
    </table>
</div>